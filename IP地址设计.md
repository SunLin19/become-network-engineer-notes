# IP地址的设计

IP地址是一个32位的二进制数，通常被分割为4个“8位二进制数”（也就是4个字节）。IP地址通常用“点分十进制”表示成（a.b.c.d）的形式，其中，a,b,c,d都是0~255之间的十进制整数。例：点分十进IP地址（100.4.5.6），实际上是32位二进制数（01100100.00000100.00000101.00000110）。

公有地址（Public address）由Inter NIC（Internet Network Information Center因特网信息中心）负责。这些IP地址分配给注册并向Inter NIC提出申请的组织机构。通过它直接访问因特网。


> 摘自 [百度百科-IP地址](https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80#4_8)

IP地址分为两部分，左边部分用来标识主机所在的网络，被称为网络地址，右边被用来标识主机本身，称为主机地址；可左右部分各字节占总比的 ?/4 并不知道，也由此，地址的类别开始进行划分开来。

## IP地址的种类

> 参考 [百度百科 主机地址](https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA%E5%9C%B0%E5%9D%80)

主机地址种类通过IP地址的引导位(最高位)来区分不同类别的IP地址：

（注：n为网络编号位，h为主机编号位）

|||
|:-:|:-:|
|A类地址：|0nnnnnnn.hhhhhhhh.hhhhhhhh.hhhhhhhh
|B类地址：|10nnnnnn.nnnnnnnn.hhhhhhhh.hhhhhhhh
|C类地址：|110nnnnn.nnnnnnnn.nnnnnnnn.hhhhhhhh

以A类地址 0nnnnnnn.hhhhhhhh.hhhhhhhh.hhhhhhhh 说明为例：

* 将 0nnn nnnn中的n以0替代转成二进制：0000 0001<sup>注</sup>，接着再转为十进制 1
* 将 0nnn nnnn中的n以1替代转成二进制：0111 1111，接着再转为十进制 2<sup>7</sup>-1 （127）

A类地址范围：
1 ~ 127；1.0.0.1-127.255.255.255,任何一个0到127间的网络地址均是一个A类地址

**从1算到127（包括1与127），总数的确是128；但IP地址最后结尾的部分的x.x.x.0为[网络地址](IP地址设计.md#网络地址与广播地址)，最后结尾的部分以x.x.x.255则为[广播地址](IP地址设计.md#网络地址与广播地址)，二者并不能作为ip使用，因此需要减2，即128-2=126，也就是说A类网络可定义126个，每个网络可以拥有的主机数为2<sup>h</sup>-2=16777214**

得出公式： `2^n-2 = x类型IP地址最大网络范围；2^h-2 = 最大主机数`；B类地址、 C类地址类推同理。


### ABC类地址的划分

划分只是为了较为规范化的管理，就像软件框架一样进行约定，负责的功能模块及条理也清晰了许多；但这类规范并不是强制性要求，只是有效合理的划分可以节省更多的ip资源，也可缓解IP地址紧缺（资源不够用）。

* A类保留政府机构
* B类分配给中等规模公司
* C类分配给需要的任何人

私有地址属于非注册地址，专门为组织机构内部使用（局域网）。以下列出留用的内部私有地址：
* **A类 10.0.0.0--10.255.255.255**
* **B类 172.16.0.0--172.31.255.255**
* **C类 192.168.0.0--192.168.255.255**

### 网络地址与广播地址

> 编改自 [网络地址和广播地址的作用](https://blog.51cto.com/ccccc/385956)

网络地址：

识别网络ID用的 ，如192.168.1.0 ，说明该网段属于192.168.1的段 ，属于不可用IP；

广播地址：

进行广播的通用地址 ，如192.168.1.255。这些机器在询问网关的时候把信息发往192.168.1.255，于是192.168.1.1-192.168.1.254的所有机器都可以接收到它发来的信息，信息会问谁是网关你的MAC地址是多少，如果有一台机器是网关他就会回应。

### 0.0.0.0与127.0.0.1

127.0.0.1：

127.0.0.1即为主机地址，它不能连接互联网或是局域网，只能自身独立使用；只要使用这个地址发送数据，则数据包不会出现在网络传输过程中，常用于屏蔽软件官网对正版的校验。

0.0.0.0：

> 摘自 [segmentfault - ip地址0.0.0.0是什么意思](https://segmentfault.com/q/1010000003732310)

表示所有IP地址，比如你的一个tomcat配置文件中，如果监听的IP地址设置了 0.0.0.0 就表示你的这个tomcat服务器监听在你本机的所有IP地址上，通过任何一个IP地址都可以访问到；如果你本地的IP地址有 192.168.1.10、 172.16.2.10，那么访问你这个tomcat就可以 http://192.168.1.10:8080/ 、 http://172.16.2.10:8080/ 都可以访问。

