# TCP/IP各层功能回顾

## OSI与TCP/IP

![](https://i.postimg.cc/tCT1jSpt/2019-08-02-170123.png)


## 各层的作用及目的

|OSI模型|行为目的|
|:-:|:-:|
|应用层|为用户提供常用的应用程序，并实现网络服务的各种功能（电子邮件、上网浏览等网络服务）|
|表示层|数据格式的转换，压缩与解压缩，加密与解密|
|会话层|文件传输中出现故障时,会话层应提供断点续传的功能,保证网络修复后, 重传断点以后的数据|
|传输层|传输层则负责将数据可靠地传送到相应的端口（主机程序）|
|网络层|根据网络地址做出路径的选择，网络地址将源结点发出的数据包传送到目的结点|
|数据链路层|通过物理地址负责主机之间数据的可靠传输|
|物理层|建立、维护、断开物理连接（比特流与电子信号之间的切换）|

## 数据封装的过程

由于信息量过大, 为了保证网络能够将数据传递到目标，将用户数据和必要的地址和管理信息合成为数据包（这个行为称为分组），而包（packet）即是信息在互联网当中传输的单元。

* 一封从应用层发出的邮件资料经过传输层
* 传输层进行数据分组并添加了传输层协议头，发往网络层
* 网络层在此基础上继续封包（添加网络层协议头），下发至数据链路层
* 数据链路层将网络层的包封装成帧（添加数据链路层协议头）
* 在物理层，帧会编码成能够在介质上传输的比特流，并发送至目的地

接收主机以相反的方式进行操作称为解封装。解封装是接收设备移除一层或多层协议头的过程。数据在协议栈中向上移动直到终端应用层伴随着解封装。


> 图片摘自 [dell emc](https://community.emc.com)

![](https://i.postimg.cc/9fcS0TGq/image004.jpg)

<!--
## 经过数据链路的包

![](https://i.postimg.cc/Njv7WDCB/Snipaste-2019-08-05-10-23-44.png)

-->
