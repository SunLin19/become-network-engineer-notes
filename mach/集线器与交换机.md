# 集线器与交换机

## 前置名词及术语

认识设备前，了解必要行业名词术语，所谓名词术语都是长话短说的描述事物行为现象的总结。

### mac地址

MAC地址（Media Access Control Address）也称为局域网地址，以太网地址（Ethernet Address）或物理地址，它是一个用来确认网络设备位置的地址，通信设备的设计前提都是mac地址唯一的（规范），更何况，mac地址的分配需要向 **电气电子工程师学会（IEEE）** 进行申请。

不过mac地址有些情况并不是唯一的，如在设备设配器网卡高级选项中本机管理的地址进行修改，或是使用软件等其他方式修改；但只要不属于同一数据链路就不会有问题。


### 简述单工、半双工、全双工

* 单工：简单说就是一方只能发信息，另一方则只能收信息，通信是单向的。
* 半双工：比单工先进一点，比方说双方都能发信息，但同一时间则只能一方发信息。
* 全双工：比半双工再高级些，双方不仅都能发信息，而且能够同时发送。

### 广播风暴

同一时间只能有一个广播信息在网络中传送，所有的广播信息会播发到网络的每一个端口，若是广播在网段内指数级的大量复制及传播数据帧，导致网络性能下降甚至网络瘫痪，这就是广播风暴。

## 集线器与交换机的区别

### 外观

大多数集线器会以铭牌标识设备，如图所示：4个端口上方黄圈中内的`HUB`

![](https://i.postimg.cc/xT6yJBT6/Snipaste-2019-07-24-20-35-15.png)

交换机则会标识`switch`字样

![](https://i.postimg.cc/SKwKxB12/Snipaste-2019-07-24-21-18-36.png)

### 作业流程

#### 集线器运作方式

集线器确是将输入端口的信号广播给以太网内其他所有的端口，所有其他端口都会接收信号并且判断其中的Mac报头中的接收方Mac地址是不是为自己的Mac地址，如果不是就抛弃，如果是就接收回应。

#### 交换机运作方式

主机连接到交换机端口发送数据时，交换机将拷贝主机的mac地址给主机所连接的各自端口形成一张地址表，然后再来查看目的MAC地址，如果地址表中有关于目的MAC地址与相应接口的记录，就从记录的接口转发出去；交换机动态学习的MAC地址默认只有300秒的有效期，若是300秒内记录的MAC地址没有通信，则会删除此记录。



### 通过运作方式判定设备的所处层次

|OSI的两层模型|层次定义描述|
|:-:|:-:
|数据链路层|互连设备之间的传送和识别数据帧（建立逻辑连接、进行硬件地址寻址、差错校验等功能）
|物理层|建立、维护、断开物理连接（比特流与电子信号之间的切换）

综合以上：

集线器内主机间的传输没有对硬件地址的寻址功能，也不需要对数字信号进行转换，只是建立多主机共享式网络，单纯扩大网络连接范围；而交换机的运作过程就已经含有数据链路层所具有的建立逻辑连接、进行硬件地址寻址、差错校验等功能

**由此判断，集线器属于物理层，交换机属于数据链路层。**



### 集线器为什么容易产生广播风暴？

集线器只能运作半双工模式，所有端口都只是共享一条带宽（共享式网络），每个用户的实际可用带宽（网速）随网络用户数的增加而递减；当信息繁忙时，多个用户同时争用一个信道，而一个信道正好也只允许一个用户占用，致使大量用户常处于监测等待状态，导致信号传输时产生抖动、停滞或失真，严重影响了网络的性能。因此，当网络规模较大时，使用集线器会致使带宽性能会受到很大的影响，也很容易产生“广播风暴”。

比方说：

商城里的顾客们集体围住售货员，与此同时将商品一股脑的抛给售货员并要求退还全款；售货员也只能处理完某个顾客清单后再接着结算下一个，而要求退款的顾客不断的越来越多，已远大于他的退货处理流程速度，自然就会形成货物堆积。

![](https://i.postimg.cc/9fLggNC0/Snipaste-2019-07-25-22-13-10.png)


<!--
# 三层交换机与路由器


## 路由器

建立并维护路由表：为了实现分组转发功能，需要一个路由表，保存路由器每个端口对应的目的网络地址，及默认路由器的地址。路由器通过定期与其他路由器交换路由信息来自动更新路由表

提供网络间的分组转发功能：路由器检查IP分组的目的地址，根据路由表决定该分组的交付方式。若是直接交付，就将分组传送到目的网络。若是间接交付，确定转发端口号与下一跳路由器的IP地址



## 多出来的IP地址该怎样使用（尽量通俗）


想法&写作思路: 之前的二层交换机早于IP地址的设计，ip地址规划完成，现有的二层有不具备这个功能，所以推出了新款的三层交换机、路由器；先写路由器，再写三层交换机。（三层交换机出现缘由）



## 三层交换机

三层交换技术就是：二层交换技术＋三层转发技术。三层交换技术的出现，解决了局域网中网段划分之后，网段中子网必须依赖路由器进行管理的局面，解决了传统路由器低速、复杂所造成的网络瓶颈问题。

而三层交换机的最重要的功能是加快大型局域网络内部的数据的快速转发，加入路由功能也是为这个目的服务的。如果把大型网络按照部门，地域等等因素划分成一个个小局域网，这将导致大量的网际互访，单纯的使用二层交换机不能实现网际互访；如单纯的使用路由器，由于接口数量有限和路由转发速度慢，将限制网络的速度和网络规模，采用具有路由功能的快速转发的三层交换机就成为首选。




## 外观差别

交换机只有LAN口，没有WAN口

![](https://i.postimg.cc/SKwKxB12/Snipaste-2019-07-24-21-18-36.png)

路由器上有一个WAN口，有多个LAN口

![](https://i.postimg.cc/wxPLLWT7/2019-07-30-170044.png)

# 其他网络设备

## 前置名词及术语




## 调制解调器

光猫的主要作用是将光信号转化为数字信号，一般家里使用光纤网络的都有这个设备。光猫一般会有一个PON口，用来接入光纤线的。另外，TEL接口用来接固定电话，LAN一般连接路由器（如果家里没有路由器一般用来接电脑拨号上网）。

![](https://i.postimg.cc/SK6wh36W/Snipaste-2019-07-28-00-28-20.png)

家庭安装“猫”简单网络概览图

![](https://i.postimg.cc/mrvgmG7D/19216811.gif)

## 无线接入点

无线AP，即Access Point，也就是无线接入点。简单来说就是wifi共享上网中的无线交换机，它是移动终端用户进入有线网络的接入点，主要用于家庭宽带、企业内部网络部署等，无线覆盖距离为几十米至上百米。一般的无线AP还带有接入点客户端模式，也就是说AP之间可以进行无线链接，从而可以扩大wifi共享上网的覆盖范围。

目前的无线AP可分为两类:单纯型AP和扩展型AP。

单纯型AP：由于缺少了路由功能，相当于无线交换机，仅仅是提供一个无线信号发射的功能。它的工作原理是将网络信号通过双绞线传送过来，经过无线AP的编译，将电信号转换成为无线电讯号发送出来，形成wifi共享上网的覆盖。根据不同的功率，网络覆盖程度也是不同的，一般无线AP的最大覆盖距离可达400米。

扩展型AP：就是我们常说的无线路由器了，它主要应用于用户上网和无线覆盖。通过路由功能，可以实现家庭wifi共享上网中的Internet连接共享，也能实现ADSL和小区宽带的无线共享接入 。值得一提的是，可以通过无线路由器把无线和有线连接的终端都分配到一个子网，使得子网内的各种设备可以方便的交换数据。

入墙式无线AP也叫墙壁式AP，属于无线AP的一种，体积小，因其专门设计为安装至墙壁的普通国际标准的86尺寸线盒，可以完美替代房间内的有线网络面板。其主要应用于酒店、宿舍、办公场所等不便大面积施工的环境以实现无线覆盖。

[tp-link 墙壁式AP](https://www.tp-link.com.cn/product_1403.html)

![](https://i.postimg.cc/KjF7G6Qy/Snipaste-2019-07-28-11-01-42.png)


吸顶式AP，也是属于无线AP的一种，适用范围广，可直接安装在天花板上，为企业、酒店、商场营造美观大方的环境。

[tp-link 吸顶式AP](https://www.tp-link.com.cn/product_1067.html)

![](https://i.postimg.cc/638LbV3D/Snipaste-2019-07-28-10-44-43.png)

室外AP，适用于景区、公园、游乐场等环境定向远距离传输覆盖要求

[tp-link 室外AP](https://www.tp-link.com.cn/product_809.html)

![](https://i.postimg.cc/3NVKCTqs/Snipaste-2019-07-28-11-17-59.png)


## 无线控制器

AC控制器是用来管理AP的，在网络中的AP数量很少的时候，的确没有必要使用AC控制器。因为数量少，可以一个一个的进行管理，并不会多碍事。但在无线AP数量众多的时候呢，此时，AC控制器如“及时雨”一般，可以对所有的AP进行管理和控制。

[tp-link 无线控制器](https://www.tp-link.com.cn/product_671.html?v=specification#tag)

![](https://i.postimg.cc/nVk5SP76/Snipaste-2019-07-28-15-01-12.png)






-->

