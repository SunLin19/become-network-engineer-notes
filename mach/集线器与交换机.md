# 集线器与交换机

## 前置名词及术语

认识设备前，了解必要行业名词术语，所谓名词术语都是长话短说的描述事物行为现象的总结。

### mac地址

MAC地址（Media Access Control Address）也称为局域网地址，以太网地址（Ethernet Address）或物理地址，它是一个用来确认网络设备位置的地址，通信设备的设计前提都是mac地址唯一的（规范），更何况，mac地址的分配需要向 **电气电子工程师学会（IEEE）** 进行申请。

不过mac地址有些情况并不是唯一的，如在设备设配器网卡高级选项中本机管理的地址进行修改，或是使用软件等其他方式修改；但只要不属于同一数据链路就不会有问题。


### 简述单工、半双工、全双工

* 单工：简单说就是一方只能发信息，另一方则只能收信息，通信是单向的。
* 半双工：比单工先进一点，比方说双方都能发信息，但同一时间则只能一方发信息。
* 全双工：比半双工再高级些，双方不仅都能发信息，而且能够同时发送。

### 广播风暴

同一时间只能有一个广播信息在网络中传送，所有的广播信息会播发到网络的每一个端口，若是广播在网段内指数级的大量复制及传播数据帧，导致网络性能下降甚至网络瘫痪，这就是广播风暴。

## 双绞线

**同轴电缆已被双绞线取代。**



## 集线器与交换机的区别

### 外观

大多数集线器会以铭牌标识设备，如图所示：4个端口上方黄圈中内的`HUB`

![](https://i.postimg.cc/xT6yJBT6/Snipaste-2019-07-24-20-35-15.png)

交换机则会标识`switch`字样

![](https://i.postimg.cc/SKwKxB12/Snipaste-2019-07-24-21-18-36.png)

### 作业流程

#### 集线器运作方式

集线器确是将输入端口的信号广播给以太网内其他所有的端口，所有其他端口都会接收信号并且判断其中的Mac报头中的接收方Mac地址是不是为自己的Mac地址，如果不是就抛弃，如果是就接收回应。

#### 交换机运作方式

主机连接到交换机端口发送数据时，交换机将拷贝主机的mac地址给主机所连接的各自端口形成一张地址表，然后再来查看目的MAC地址，如果地址表中有关于目的MAC地址与相应接口的记录，就从记录的接口转发出去；交换机动态学习的MAC地址默认只有300秒的有效期，若是300秒内记录的MAC地址没有通信，则会删除此记录。



### 通过运作方式判定设备的所处层次

|开放式系统互联模型层次|定义描述|
|:-:|:-:
|数据链路层|互连设备之间的传送和识别数据帧（建立逻辑连接、进行硬件地址寻址、差错校验等功能）
|物理层|建立、维护、断开物理连接（比特流与电子信号之间的切换）

综合以上：

集线器内主机间的传输没有对硬件地址的寻址功能，也不需要对数字信号进行转换，只是建立多主机共享式网络，单纯扩大网络连接范围；而交换机的运作过程就已经含有数据链路层所具有的建立逻辑连接、进行硬件地址寻址、差错校验等功能

**由此判断，集线器属于物理层，交换机属于数据链路层。**



### 集线器为什么容易产生广播风暴？

集线器只能运作半双工模式，所有端口都只是共享一条带宽（共享式网络），每个用户的实际可用带宽（网速）随网络用户数的增加而递减；当信息繁忙时，多个用户同时争用一个信道，而一个信道正好也只允许一个用户占用，致使大量用户常处于监测等待状态，导致信号传输时产生抖动、停滞或失真，严重影响了网络的性能。因此，当网络规模较大时，使用集线器会致使带宽性能会受到很大的影响，也很容易产生“广播风暴”。

比方说：

商城里的顾客们集体围住售货员，与此同时将商品一股脑的抛给售货员并要求退还全款；售货员也只能处理完某个顾客清单后再接着结算下一个，而要求退款的顾客不断的越来越多，已远大于他的退货处理流程速度，自然就会形成货物堆积。

![](https://i.postimg.cc/9fLggNC0/Snipaste-2019-07-25-22-13-10.png)
