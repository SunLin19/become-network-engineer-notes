# 三层交换机与路由器


## 前置术语名词

路由：路由（routing）就是通过互联的网络把信息从源地址传输到目的地址的活动

## 三层交换机

三层交换技术就是：二层交换技术＋三层转发技术。三层交换技术的出现，解决了局域网中网段划分之后，网段中子网必须依赖路由器进行管理的局面，解决了传统路由器低速、复杂所造成的网络瓶颈问题。

而三层交换机的最重要的功能是加快大型局域网络内部的数据的快速转发，加入路由功能也是为这个目的服务的。如果把大型网络按照部门，地域等等因素划分成一个个小局域网，这将导致大量的网际互访，单纯的使用二层交换机不能实现网际互访；如单纯的使用路由器，由于接口数量有限和路由转发速度慢，将限制网络的速度和网络规模，采用具有路由功能的快速转发的三层交换机就成为首选。

![](https://i.postimg.cc/SKwKxB12/Snipaste-2019-07-24-21-18-36.png)

## 路由器

建立并维护路由表 
为了实现分组转发功能，需要一个路由表，保存路由器每个端口对应的目的网络地址，及默认路由器的地址。路由器通过定期与其他路由器交换路由信息来自动更新路由表

提供网络间的分组转发功能 
路由器检查IP分组的目的地址，根据路由表决定该分组的交付方式。若是直接交付，就将分组传送到目的网络。若是间接交付，确定转发端口号与下一跳路由器的IP地址

（1）路由选择处理机 
是路由的控制部分，用于生成和维护路由表 
（2）分组处理和交换 
输入/输出端口有三个模块：物理层、数据链路层和网络层 
物理层：完成比特流的接受和发送 
数据链路层：完成拆帧和封装帧 
网络层：处理IP分组头 
排队队列：当输入/输出端口接受到多个分组不能处理及时处理时，这些分组会进入排队队列等待

![]()
